<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dbsun.mapper.NoticeManageMapper">
<sql id="Base_Column_List">
su.id id,
su.title title,
su.content content,
su.create_time create_time
</sql>
<!--在数据不存在的情况下进行添加-->
<insert id="addNoticeManage" parameterType="pd">
insert into notice_manage (
title,
content,
create_time
 ) values (
#{title},
#{content},
now()
) </insert>
<!--根据id删除数据-->
<delete id="deleteNoticeManageId" parameterType="pd"  >
DELETE FROM  notice_manage WHERE id = #{id};
</delete>
<!--根据id更新数据-->
<update id="updateNoticeManage" parameterType="pd"  >
UPDATE notice_manage  <set>

<if test="title != null and title !=''"> title = #{title}, </if>
<if test="content != null and content !=''"> content = #{content}, </if>

</set>
 WHERE id = #{id}; </update>
<!--获取数据 不分页-->
<select id="queryNoticeManageKey" parameterType="pd" resultType="pd" useCache="false">
SELECT <include refid="Base_Column_List"/> FROM notice_manage su where 1 = 1
 <if test="id != null and id != '' "> and su.id = #{id}  </if>
 <if test="title != null and title != '' "> and su.title like '%${title}%'  </if>
 <if test="content != null and content != '' "> and su.content = #{content}  </if>
 <if test="create_time != null and create_time != '' "> and su.create_time = #{create_time}  </if>
</select>
<!--获取用户列表数据 分页-->
<select id="queryPageNoticeManageKeyList" parameterType="page" resultType="pd" useCache="false">
SELECT <include refid="Base_Column_List"/> FROM notice_manage su where 1 = 1
 <if test="pd.id != null and pd.id !=''"> and su.id = #{pd.id}  </if>
 <if test="pd.title != null and pd.title !=''"> and su.title like '%${pd.title}%' </if>
 <if test="pd.content != null and pd.content !=''"> and su.content = #{pd.content}  </if>
 <if test="pd.create_time != null and pd.create_time !=''"> and su.create_time = #{pd.create_time}  </if>
</select>
</mapper>
